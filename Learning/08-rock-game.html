<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
  </head>

  <body>
    <p>Rock Paper Scissors</p>
    <div class="buttons">
      <button onclick="
        rock();
      ">Rock</button>

      <button onclick="
        paper();
      ">Paper</button>

      <button onclick="
        scissors();
      ">Scissors</button>

      <button onclick="
        score = { win: 0, tie: 0, lose: 0 }; 
        localStorage.removeItem('score');
        // remove item buat reset
      ">Reset Score</button>
    </div>

    <script>
      let score = JSON.parse(localStorage.getItem('score')) || {win: 0, tie: 0, lose: 0};
      // narik data yang disimpen di local storage
      // convert objek JSON jadi objek JS 
      // Ambil skor dari localStorage, kalau kosong, inisialisasi dengan 0

      function rock(){
        const randomNumber = Math.random(); // buat angka random dari 0 sampe 1  
        if(randomNumber < 1/3){
          score.tie += 1;
          alert(`You picked rock. Computer picked rock. Tie!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        } else if(randomNumber >= 1/3 && randomNumber < 2/3){
          score.lose += 1;
          alert(`You picked rock. Computer picked paper. You lose!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        } else{
          score.win += 1;
          alert(`You picked rock. Computer picked scissors. You win!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        }
        localStorage.setItem('score', JSON.stringify(score));
      }

      function paper(){
        const randomNumber = Math.random(); // buat angka random dari 0 sampe 1  
        if(randomNumber < 1/3){
          score.win += 1;
          alert(`You picked paper. Computer picked rock. You win!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        } else if(randomNumber >= 1/3 && randomNumber < 2/3){
          score.tie += 1;
          alert(`You picked paper. Computer picked paper. Tie!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        } else{
          score.lose += 1;
          alert(`You picked paper. Computer picked scissors. You lose!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        }
        localStorage.setItem('score', JSON.stringify(score));
      }

      function scissors(){
        const randomNumber = Math.random(); // buat angka random dari 0 sampe 1  
        if(randomNumber < 1/3){
          score.lose += 1;
          alert(`You picked scissors. Computer picked rock. You lose!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        } else if(randomNumber >= 1/3 && randomNumber < 2/3){
          score.win += 1;
          alert(`You picked scissors. Computer picked paper. You win! 
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        } else{
          score.tie += 1;
          alert(`You picked scissors. Computer picked scissors. Tie!
Wins: ${score.win}, Losses: ${score.lose}, Ties: ${score.tie}`);
        }
        localStorage.setItem('score', JSON.stringify(score));
      }

// local storage nyimpen value di variable secara permanen
// biarpun webnya udh direfresh
// local storage cuma support string sama kyk JSON
// objek JS nya hrs diubah jadi objek JSON (string)
    </script>
  </body>
</html>